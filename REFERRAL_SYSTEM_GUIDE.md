# ุฏููู ูุธุงู ููุงูุขุช ุงูุฅุญุงูุฉ - Atlas Trading

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทุจูู ูุธุงู ููุงูุขุช ุฅุญุงูุฉ ุซูุงุซู ุงููุณุชููุงุช (EMP-1, EMP-2, EMP-3) ุจูุฌุงุญ ูู ุชุทุจูู Atlas Trading.

## ๐ฏ ุขููุฉ ุงูุนูู

### ุงููุณุชููุงุช ุงูุซูุงุซุฉ

1. **EMP-1 (ุงููุณุชูู ุงูุฃูู)**: 7% ูู ูููุฉ ุงูุฅูุฏุงุน
   - ุงููุณุชุฎุฏู ุงูุฐู ูุงู ุจุฏุนูุฉ ุงูููุฏุน ูุจุงุดุฑุฉ
   
2. **EMP-2 (ุงููุณุชูู ุงูุซุงูู)**: 2% ูู ูููุฉ ุงูุฅูุฏุงุน
   - ุงููุณุชุฎุฏู ุงูุฐู ูุงู ุจุฏุนูุฉ ุงููุณุชุฎุฏู ูู ุงููุณุชูู ุงูุฃูู
   
3. **EMP-3 (ุงููุณุชูู ุงูุซุงูุซ)**: 1% ูู ูููุฉ ุงูุฅูุฏุงุน
   - ุงููุณุชุฎุฏู ุงูุฐู ูุงู ุจุฏุนูุฉ ุงููุณุชุฎุฏู ูู ุงููุณุชูู ุงูุซุงูู

### ูุซุงู ุนููู

```
ุงููุณุชุฎุฏู A (EMP-3)
    โ ุฏุนุง
ุงููุณุชุฎุฏู B (EMP-2)
    โ ุฏุนุง
ุงููุณุชุฎุฏู C (EMP-1)
    โ ุฏุนุง
ุงููุณุชุฎุฏู D (ุงูููุฏุน)
```

ุนูุฏูุง ูููู **ุงููุณุชุฎุฏู D** ุจุฅูุฏุงุน **100 USDT**:
- **ุงููุณุชุฎุฏู C** ูุญุตู ุนูู: 7 USDT (7%)
- **ุงููุณุชุฎุฏู B** ูุญุตู ุนูู: 2 USDT (2%)
- **ุงููุณุชุฎุฏู A** ูุญุตู ุนูู: 1 USDT (1%)

## ๐ ุฌุฏูู ุงูููุงูุขุช

| ุงููุจูุบ (USDT) | EMP-1 (7%) | EMP-2 (2%) | EMP-3 (1%) |
|---------------|------------|------------|------------|
| 30            | 2.10       | 0.60       | 0.30       |
| 50            | 3.50       | 1.00       | 0.50       |
| 80            | 5.60       | 1.60       | 0.80       |
| 100           | 7.00       | 2.00       | 1.00       |
| 150           | 10.50      | 3.00       | 1.50       |
| 200           | 14.00      | 4.00       | 2.00       |

## ๐ง ุงููููุงุช ุงููุนุฏูุฉ

### 1. `shared/referral-config.ts`
ููู ุงูุฅุนุฏุงุฏุงุช ุงูุฐู ูุญุชูู ุนูู:
- ูุณุจ ุงูููุงูุขุช ููู ูุณุชูู
- ุฌุฏูู ุงูููุงูุขุช
- ุฏุงูุฉ ุญุณุงุจ ุงูููุงูุฃุฉ

```typescript
export const REFERRAL_LEVELS = {
  EMP1: 0.07, // 7%
  EMP2: 0.02, // 2%
  EMP3: 0.01, // 1%
};

export function calculateReferralReward(amount: number, level: 1 | 2 | 3): number {
  switch (level) {
    case 1: return amount * REFERRAL_LEVELS.EMP1;
    case 2: return amount * REFERRAL_LEVELS.EMP2;
    case 3: return amount * REFERRAL_LEVELS.EMP3;
    default: return 0;
  }
}
```

### 2. `server/routers/admin.ts`
ุชู ุชุนุฏูู ุฏุงูุฉ `approveDeposit` ูุฅุถุงูุฉ ููุทู ุงูููุงูุขุช:

**ุงูุฎุทูุงุช:**
1. ุนูุฏ ููุงููุฉ ุงูุฃุฏูู ุนูู ุงูุฅูุฏุงุน
2. ูุชู ุงูุจุญุซ ุนู ุงููุณุชุฎุฏู ุงูููุฏุน
3. ุฅุฐุง ูุงู ูุฏูู `referredBy`ุ ูุชู ุงูุจุญุซ ุนู ุงููุณุชุฎุฏู ุงูุฐู ุฏุนุงู (EMP-1)
4. ูุชู ุญุณุงุจ ุงูููุงูุฃุฉ 7% ูุฅุถุงูุชูุง ุฅูู ุฑุตูุฏู
5. ูุชู ุชุณุฌูู ุงููุนุงููุฉ ูู `transactions`
6. ูุชู ุชูุฑุงุฑ ุงูุนูููุฉ ูููุณุชูู ุงูุซุงูู (EMP-2) ูุงูุซุงูุซ (EMP-3)

### 3. `client/src/pages/Team.tsx`
ุชู ุฅุถุงูุฉ:
- ุฌุฏูู ุงูููุงูุขุช ุงููุฑุฆู
- ุดุฑุญ ุงููุธุงู ุจุงูุนุฑุจู
- ููุงุญุธุงุช ุชูุถูุญูุฉ

## ๐จ ุงููุงุฌูุฉ

### ุตูุญุฉ ุงููุฑูู ุชุญุชูู ุนูู:

1. **ููุฏ ุงูุฅุญุงูุฉ ุงูุฎุงุต**
   - ููุฏ ูุฑูุฏ ููู ูุณุชุฎุฏู (ูุซู: ATLAS123)
   - ุฑุงุจุท ุฅุญุงูุฉ ูุงูู

2. **ุฅุญุตุงุฆูุงุช ุงููุฑูู**
   - ุนุฏุฏ ุฃุนุถุงุก ุงููุณุชูู 1
   - ุนุฏุฏ ุฃุนุถุงุก ุงููุณุชูู 2
   - ุนุฏุฏ ุฃุนุถุงุก ุงููุณุชูู 3
   - ุฅุฌูุงูู ุงููุฑูู

3. **ุฌุฏูู ุงูููุงูุขุช**
   - ุฌุฏูู ุชูุตููู ุจุงูููุงูุขุช ููู ูุจูุบ
   - ุดุฑุญ ุงููุธุงู
   - ููุงุญุธุงุช ุชูุถูุญูุฉ

## ๐ ุณูุฑ ุงูุนูู

### 1. ุงูุชุณุฌูู ุจููุฏ ุฅุญุงูุฉ
```
ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ โ ุตูุญุฉ ุงูุชุณุฌูู (?ref=ATLAS123) โ ูุชู ุญูุธ referredBy
```

### 2. ุงูุฅูุฏุงุน
```
ุงููุณุชุฎุฏู ูุทูุจ ุฅูุฏุงุน โ ุงูุฃุฏูู ููุงูู โ ูุชู ุญุณุงุจ ุงูููุงูุขุช ุชููุงุฆูุงู
```

### 3. ุชูุฒูุน ุงูููุงูุขุช
```
1. ุฅุถุงูุฉ ุงููุจูุบ ุฅูู profitBuffer ูููุณุชุฎุฏู
2. ุชุญุฏูุซ availableCapital
3. ุชุณุฌูู ูุนุงููุฉ ุจููุน referral_commission
```

## ๐พ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู `users`
```sql
- id: ูุนุฑู ุงููุณุชุฎุฏู
- referralCode: ููุฏ ุงูุฅุญุงูุฉ ุงูุฎุงุต ุจู
- referredBy: ููุฏ ุงูุฅุญุงูุฉ ุงูุฐู ุงุณุชุฎุฏูู ุนูุฏ ุงูุชุณุฌูู
```

### ุฌุฏูู `capital`
```sql
- userId: ูุนุฑู ุงููุณุชุฎุฏู
- funding: ุฑุฃุณ ุงููุงู ุงูููุฏุน
- profitBuffer: ุงูุฃุฑุจุงุญ ูุงูููุงูุขุช
- availableCapital: ุงูุฑุตูุฏ ุงููุชุงุญ (funding + profitBuffer)
```

### ุฌุฏูู `transactions`
```sql
- userId: ูุนุฑู ุงููุณุชุฎุฏู
- type: ููุน ุงููุนุงููุฉ (referral_commission)
- amount: ูููุฉ ุงูููุงูุฃุฉ
- description: ูุตู ุงูููุงูุฃุฉ
```

## โ ูุง ุชู ุฅูุฌุงุฒู

- โ ุฅูุดุงุก ููู ุฅุนุฏุงุฏุงุช ุงูููุงูุขุช
- โ ุชุทุจูู ููุทู ุงูููุงูุขุช ุงูุซูุงุซูุฉ
- โ ุฅุถุงูุฉ ูุงุฌูุฉ ุนุฑุถ ุฌุฏูู ุงูููุงูุขุช
- โ ุฑุจุท ุงููุธุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุชุณุฌูู ุงููุนุงููุงุช ุชููุงุฆูุงู
- โ ููุฏ ุฅุญุงูุฉ ูุฑูุฏ ููู ูุณุชุฎุฏู
- โ ุฑุงุจุท ุฅุญุงูุฉ ุชููุงุฆู

## ๐ ููุงุฎุชุจุงุฑ ุงููุงูู

ุงููุธุงู ุงูุญุงูู ูุณุชุฎุฏู localStorage (ุจูุงูุงุช ูุญููุฉ) ููุชุทููุฑ. ููุงุฎุชุจุงุฑ ุงููุงูู:

1. **ูุดุฑ ุงูุชุทุจูู** ุนูู ุฎุงุฏู ุญูููู
2. **ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุจูุงูุงุช** ุญููููุฉ (MySQL/PostgreSQL)
3. **ุฅูุดุงุก ุนุฏุฉ ุญุณุงุจุงุช** ุจุฃููุงุฏ ุฅุญุงูุฉ ูุฎุชููุฉ
4. **ุงุฎุชุจุงุฑ ุงูุฅูุฏุงุน** ูุงูููุงููุฉ ูู ุงูุฃุฏูู
5. **ุงูุชุญูู ูู ุงูููุงูุขุช** ูู ุญุณุงุจุงุช ุงููุณุชุฎุฏููู

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูููุงูุขุช ุชูููุญ ููุท ุนูุฏ ุงูููุงููุฉ ุนูู ุงูุฅูุฏุงุน** ูู ูุจู ุงูุฃุฏูู
2. **ุงูููุงูุขุช ุชูุถุงู ุฅูู profitBuffer** ูููุณ funding
3. **ูุชู ุชุณุฌูู ูู ููุงูุฃุฉ** ูู ุฌุฏูู transactions
4. **ุงููุธุงู ูุฏุนู 3 ูุณุชููุงุช ููุท** (EMP-1, EMP-2, EMP-3)
5. **ุฅุฐุง ูู ููู ููุงู ูุณุชุฎุฏู ูู ูุณุชูู ูุนูู**ุ ูุชููู ุงูุชูุฒูุน

## ๐ ุงูุฃูุงู

- โ ุงูุชุญูู ูู ูุฌูุฏ ุงููุณุชุฎุฏู ูุจู ุฅุถุงูุฉ ุงูููุงูุฃุฉ
- โ ุงูุชุญูู ูู ุญุงูุฉ ุงูุฅูุฏุงุน (pending ููุท)
- โ ุงุณุชุฎุฏุงู transactions ูุชุชุจุน ุฌููุน ุงูููุงูุขุช
- โ ุนุฏู ุงูุณูุงุญ ุจูุนุงูุฌุฉ ููุณ ุงูุฅูุฏุงุน ูุฑุชูู

## ๐ ุงูุฏุนู

ูููุฒูุฏ ูู ุงููุนูููุงุช ุฃู ุงููุณุงุนุฏุฉุ ุฑุงุฌุน:
- `shared/referral-config.ts` - ุฅุนุฏุงุฏุงุช ุงููุธุงู
- `server/routers/admin.ts` - ููุทู ุงูููุงูุขุช
- `client/src/pages/Team.tsx` - ูุงุฌูุฉ ุงูุนุฑุถ
